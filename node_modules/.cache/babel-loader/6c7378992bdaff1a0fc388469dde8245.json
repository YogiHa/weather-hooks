{"ast":null,"code":"import _slicedToArray from \"/home/hagai/Desktop/weather-hooks/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/hagai/Desktop/weather-hooks/src/components/APICall.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport Display from './Display';\n\nfunction APICall({\n  location,\n  updateCount,\n  updateList\n}) {\n  let ignore = false;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const apiKey = //your apiKey goes here\n  useEffect(() => {\n    async function fetchData() {\n      const result = await axios(\"https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/weather?q=\".concat(location.text, \"&units=metric&appid=\").concat(apiKey));\n      if (!ignore) setData(result.data);\n      updateCount();\n      updateList(location.text);\n    }\n\n    if (location.text === undefined) {\n      return () => {\n        ignore = false;\n      };\n    } else {\n      fetchData();\n      return () => {\n        ignore = true;\n      };\n    }\n  }, [location]);\n  return data.base === 'stations' ? React.createElement(Display, {\n    data: data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), \" waiting for searches \");\n}\n\nexport default APICall;","map":{"version":3,"sources":["/home/hagai/Desktop/weather-hooks/src/components/APICall.js"],"names":["React","useState","useEffect","axios","Display","APICall","location","updateCount","updateList","ignore","data","setData","apiKey","fetchData","result","text","undefined","base"],"mappings":"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","sourcesContent":["import React, { useState , useEffect } from \"react\";\nimport axios from 'axios';\nimport Display from './Display';\n\nfunction APICall({location, updateCount, updateList}){\n\tlet ignore = false;\n\tconst [data, setData] = useState([]);\n\tconst apiKey = //your apiKey goes here\n\tuseEffect(()=> {\n\t\tasync function fetchData() {\n      const result = await axios(`https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/weather?q=${location.text}&units=metric&appid=${apiKey}`)\n\t  if (!ignore) setData(result.data); updateCount(); updateList(location.text)   }\n    if (location.text === undefined) {\n    \treturn () => {ignore = false}    }\n\t else {fetchData();\n    return () => { ignore = true; }\t}}, [location])\nreturn (data.base === 'stations' ? <Display data={data}/> : <div><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/> waiting for searches </div>) }\n\nexport default APICall;"]},"metadata":{},"sourceType":"module"}